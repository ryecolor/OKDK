# ðŸš€ HW ë¡œë´‡ ë™ìž‘ ì‹œìŠ¤í…œ

ì´ í”„ë¡œì íŠ¸ëŠ” **ë¡œë´‡ì˜ ë™ìž‘ì„ ì œì–´í•˜ëŠ” ì‹œìŠ¤í…œ**ìœ¼ë¡œ, **ì™¸ë¶€ ëª…ë ¹ ìˆ˜ì‹ , ìƒíƒœ ì „ì´, ë¡œê¹…** ë“±ì˜ ê¸°ëŠ¥ì„ í¬í•¨í•˜ì—¬ ë¡œë´‡ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.  
ì•„ëž˜ ë¬¸ì„œëŠ” **ê° ëª¨ë“ˆê³¼ ëª¨ë¸ì˜ ì—­í•  ë° ë™ìž‘ ê³¼ì •**ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## ðŸ“‚ í´ë” êµ¬ì¡°
```
HW:.
â”‚  ðŸ“œ main.py
â”‚  ðŸ“œ readme.md
â”‚  ðŸ“œ requirements.txt
â”‚
â”œâ”€ðŸ“ models
â”‚      ðŸ“„ best_steering_model_xy_test_edge4.pth
â”‚      ðŸ“„ mobilenetv2_finetuned.pth
â”‚      ðŸ“„ yolo.pt
â”‚      ðŸ“„ yolo_old.pt
â”‚
â””â”€ðŸ“ modules
        ðŸ“ config.py
        ðŸ“ controller.py
        ðŸ“ linetrace.py
        ðŸ“ logger.py
        ðŸ“ mobile_net_module.py
        ðŸ“ motor.py
        ðŸ“ pathconvert.py
        ðŸ“ recv_command.py
        ðŸ“ resnet_model.py
        ðŸ“ restful.py
        ðŸ“ websocket.py
        ðŸ“ yolo_module.py
        ðŸ“ __init__.py
```

---

## ðŸ“ íŒŒì¼ ì„¤ëª…

### ðŸŽ¯ **main.py (ë©”ì¸ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸)**
- ðŸ”¹ **ì—­í• **: í”„ë¡œê·¸ëž¨ì˜ ë©”ì¸ ì‹¤í–‰ íŒŒì¼ë¡œ, ë¡œë´‡ì˜ ì „ì²´ ë™ìž‘ì„ ì œì–´í•©ë‹ˆë‹¤.
- ðŸ›  **ì£¼ìš” ê¸°ëŠ¥**:
  - âœ… **ì™¸ë¶€ ëª…ë ¹ ìˆ˜ì‹ **: `CommandListener`ê°€ ì›¹ì†Œì¼“ì„ í†µí•´ ì™¸ë¶€ ëª…ë ¹ì„ ìˆ˜ì‹ .
  - âœ… **ëª…ë ¹ í ê´€ë¦¬**: ìŠ¤ë ˆë“œ ì•ˆì „í•œ `Queue`ë¥¼ ì´ìš©í•˜ì—¬ ìˆ˜ì‹ ëœ ëª…ë ¹ì„ ì €ìž¥.
  - âœ… **ìƒíƒœ ì „ì´(FSM) êµ¬ì„±**: `RobotController`ì˜ ìƒíƒœë¥¼ `transitions.Machine`ì„ ì‚¬ìš©í•´ ì •ì˜.
  - âœ… **ëª…ë ¹ ì‹¤í–‰**: ë¡œë´‡ì˜ ìƒíƒœ(`idle`, `active`, `off`)ì— ë”°ë¼ ì ì ˆí•œ ë™ìž‘ ìˆ˜í–‰.
  - âœ… **ì•ˆì „í•œ ì¢…ë£Œ**: `shutdown` ëª…ë ¹ ìˆ˜ì‹  ì‹œ ìžì›ì„ ì •ë¦¬í•˜ë©° ì¢…ë£Œ.

---

### âš™ï¸ **modules í´ë” ë‚´ ì£¼ìš” íŒŒì¼**
| íŒŒì¼ëª… | ì—­í•  | ì£¼ìš” ê¸°ëŠ¥ |
|--------|--------------------------|---------------------------------------------|
| **config.py** | ë³€ìˆ˜ ê´€ë¦¬ ëª¨ë“ˆ | URL ë“± í™˜ê²½ë³€ìˆ˜ ë° íŒŒì¼ í˜•ì‹ ì§€ì • |
| **controller.py** | ë¡œë´‡ ë™ìž‘ ìƒíƒœ ê´€ë¦¬ | ìƒíƒœ ì „ì´ ì •ì˜, ë¦¬ì†ŒìŠ¤ ë¡œë“œ, ëª…ë ¹ ì‹¤í–‰ |
| **linetrace.py** | Resnet ëª¨í„° ì œì–´ ëª¨ë“ˆë“ˆ | ë¼ì¸ íŠ¸ë ˆì´ì‹±ìœ¼ ëª¨í„° ì¡°í–¥ ì½”ë“œ |
| **logger.py** | ë¡œê¹… ê¸°ëŠ¥ ì œê³µ | `app_logger`ë¥¼ ì´ìš©í•œ ì´ë²¤íŠ¸ ê¸°ë¡ |
| **mobile_net_module.py** | ë°°ìˆ˜êµ¬ ìƒíƒœ ì¸ì‹ | Cropëœ ì´ë¯¸ì§€ Classification |
| **motor.py** | ëª¨í„° ì œì–´ ëª¨ë“ˆ | ëª¨í„° ë“œë¼ì´ë²„ í´ëž˜ìŠ¤ ì½”ë“œ |
| **pathconvert.py** | ê²½ë¡œ ê³„ì‚° ëª¨ë“ˆ | ìž…ë ¥ ë…¸ë“œë¡œ ê²½ë¡œ ê³„ì‚° |
| **recv_command.py** | ëª…ë ¹ ìˆ˜ì‹  ëª¨ë“ˆ | ì›¹ì†Œì¼“ ëª…ë ¹ ìˆ˜ì‹  ë° ì½œë°± ì²˜ë¦¬ |
| **resnet_model.py** | ë„ë¡œ ì¸ì‹ ëª¨ë“ˆ | Resnetì„ ì´ìš©í•œ ìžìœ¨ ì£¼í–‰ ëª¨ë¸ ê°ì²´ ëª¨ë“ˆ |
| **restful.py** | restful ë¡œê·¸ ì „ì†¡ ëª¨ë“ˆ | restfulì„ ì´ìš©í•œ ë¡œê·¸ ë° ë…¸ë“œ ì •ë³´ ì „ì†¡ |
| **websocket.py** | ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ëª¨ë“ˆ | Websocketì„ ì´ìš©í•œ ì‹¤ì‹œê°„ ì˜ìƒì „ì†¡ ëª¨ë“ˆ |
| **yolo_module.py** | ë°°ìˆ˜êµ¬ ì¸ì‹ yolo ëª¨ë¸ë¸ | YOLO v8 nanoë¥¼ ì´ìš©í•œ detection ëª¨ë“ˆ |

---

### ðŸ“¦ **models í´ë” ë‚´ ì£¼ìš” íŒŒì¼**
| íŒŒì¼ëª… | ì—­í•  |
|--------|------------------------------------------------|
| **best_steering_model_xy_test_edge4.pth** | ìžìœ¨ ì£¼í–‰ Resnet ëª¨ë¸ë¸ |
| **mobilenetv2_finetuned.pth** | ë°°ìˆ˜êµ¬ ìƒíƒœ íŒŒì•…ìš© finetuned MobileNet V2 |
| **yolo.pt** | ë°°ìˆ˜êµ¬ detectionìš© YOLO v8 nano model |

---

## ðŸ”„ ë™ìž‘ íë¦„

1ï¸âƒ£ **í”„ë¡œê·¸ëž¨ ì‹œìž‘**  
   `main.py` ì‹¤í–‰ â†’ `CommandListener`ê°€ ì™¸ë¶€ ëª…ë ¹ì„ ë°›ê¸° ì‹œìž‘.

2ï¸âƒ£ **ëª…ë ¹ í ìƒì„±**  
   ìŠ¤ë ˆë“œ ì•ˆì „í•œ `Queue`ë¥¼ ìƒì„±í•˜ì—¬ ëª…ë ¹ ì €ìž¥ ë° ëŒ€ê¸°.

3ï¸âƒ£ **ìƒíƒœ ì „ì´(FSM) ì´ˆê¸°í™”**  
   `RobotController`ì™€ `transitions.Machine`ì„ ì‚¬ìš©í•´ ìƒíƒœ ì „ì´ êµ¬ì„±.
   ```
   [loading] -- load() --> [idle]
   [idle] -- activate() --> [active]
   [active] -- deactivate() --> [idle]
   [*] -- shutdown() --> [off]
   ```

4ï¸âƒ£ **ëª…ë ¹ ìˆ˜ì‹  ë° ì²˜ë¦¬**  
   ì™¸ë¶€ ëª…ë ¹ ìˆ˜ì‹  â†’ `command_callback` ì‹¤í–‰ â†’ íì— ì €ìž¥ â†’ `RobotController`ê°€ ìƒíƒœë³„ ë™ìž‘ ìˆ˜í–‰.

5ï¸âƒ£ **ì•ˆì „í•œ ì¢…ë£Œ**  
   `shutdown` ëª…ë ¹ ìˆ˜ì‹  ë˜ëŠ” KeyboardInterrupt ë°œìƒ ì‹œ ì¢…ë£Œ.

---

## ðŸ“Š ìƒíƒœ ì „ì´ ë‹¤ì´ì–´ê·¸ëž¨
```plaintext
[loading] -- load() --> [idle]
[idle] -- activate() --> [active]
[active] -- deactivate() --> [idle]
[*] -- shutdown() --> [off]
```

